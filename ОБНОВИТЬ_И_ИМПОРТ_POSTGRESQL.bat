@echo off
chcp 65001 >nul
echo.
echo ================================================================================
echo üì• –û–ë–ù–û–í–õ–ï–ù–ò–ï GOOGLE SHEETS –ò –ò–ú–ü–û–†–¢ –í POSTGRESQL
echo ================================================================================
echo.

echo [1/2] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets...
python update_from_sheets.py

if %ERRORLEVEL% NEQ 0 (
    echo.
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –∏–∑ Google Sheets
    pause
    exit /b 1
)

echo.
echo ================================================================================
echo [2/2] –ò–º–ø–æ—Ä—Ç –≤ PostgreSQL...
echo ================================================================================
echo.

python scripts\database\import_sheets_to_postgresql.py

if %ERRORLEVEL% EQU 0 (
    echo.
    echo ================================================================================
    echo ‚úÖ –î–ê–ù–ù–´–ï –û–ë–ù–û–í–õ–ï–ù–´ –ò –ò–ú–ü–û–†–¢–ò–†–û–í–ê–ù–´!
    echo ================================================================================
    echo.
    echo üìä –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤:
    echo    ‚Ä¢ pgAdmin:    http://localhost:5050
    echo    ‚Ä¢ PostgreSQL: localhost:5432
    echo.
) else (
    echo.
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
    echo.
)

pause
