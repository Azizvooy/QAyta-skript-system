# ‚úÖ –û–ë–†–ê–ë–û–¢–ö–ê –î–ê–ù–ù–´–• –ò –°–û–ó–î–ê–ù–ò–ï –û–¢–ß–ï–¢–û–í - –ó–ê–í–ï–†–®–ï–ù–û

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- **–ò—Å—Ö–æ–¥–Ω—ã–µ –∑–∞–ø–∏—Å–∏**: 2,482,210 –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `fixations`
- **–ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö**: 30 –¥–µ–∫–∞–±—Ä—è 1899 - 2 —Ñ–µ–≤—Ä–∞–ª—è 2026
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã**: 20 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ 112 —Ü–µ–Ω—Ç—Ä–∞
- **–†–µ–≥–∏–æ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL:

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|---------|
| `detailed_reports` | 2,482,210 | –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ç—á–µ—Ç —Å–æ –≤—Å–µ–º–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ |
| `negative_complaints` | 96,420 | –ñ–∞–ª–æ–±—ã –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã |
| `complaints_by_region` | 1 | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (—Ä–µ–≥–∏–æ–Ω –Ω–µ —É–∫–∞–∑–∞–Ω) |
| `summary_statistics` | –ò—Ç–æ–≥–∏ | –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º |

### üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–í—Å–µ–≥–æ –∑–≤–æ–Ω–∫–æ–≤**: 2,482,210
- **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤**: 96,420 (3.88%)
- **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤**: 0
- **–ñ–∞–ª–æ–± (–≤—Å–µ–≥–æ)**: 0
- **–û–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ –ë–î**: 20
- **–ü–æ–∫—Ä—ã—Ç—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤**: 1 (–¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã)

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: 14.8 —Å–µ–∫—É–Ω–¥
- **–°–∫–æ—Ä–æ—Å—Ç—å**: 167,451 –∑–∞–ø–∏—Å–µ–π/—Å–µ–∫
- **–ú–µ—Ç–æ–¥**: SQL CREATE TABLE AS SELECT (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±)

---

## üõ†Ô∏è –°–æ–∑–¥–∞–Ω–æ 3 —Å–∫—Ä–∏–ø—Ç–∞:

### 1. `process_and_save_to_db.py` (410 —Å—Ç—Ä–æ–∫)
–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pandas:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ PostgreSQL
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤
- –ü–æ–ø—ã—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î (–º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è 2.4–ú –∑–∞–ø–∏—Å–µ–π)

### 2. `create_reports_in_sql.py` (140 —Å—Ç—Ä–æ–∫) ‚≠ê **–ë–´–°–¢–†–´–ô**
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQL:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SQL CREATE TABLE AS SELECT
- –í—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ 14.8 —Å–µ–∫—É–Ω–¥
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ SQL
- –°–æ–∑–¥–∞–µ—Ç 4 —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î

### 3. `–ò–ú–ü–û–†–¢_–ò_–û–ë–†–ê–ë–û–¢–ö–ê_–í_–ë–î.bat`
Batch-—Ñ–∞–π–ª –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤—Å–µ–≥–æ —Ü–∏–∫–ª–∞:
- –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç –∏–∑ Google Sheets (`import_all_sheets_filtered.py`)
- –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ (`create_reports_in_sql.py`)

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã –≤—Å—Ç—Ä–µ—á–µ–Ω–Ω—ã–µ –∏ —Ä–µ—à—ë–Ω–Ω—ã–µ:

### 1. **Timestamp NaT Error** ‚úÖ –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: pandas NaT (Not a Time) –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ NULL –¥–ª—è PostgreSQL
```
psycopg2.errors.InvalidDatetimeFormat: invalid input syntax for type timestamp: "NaT"
```
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `df.replace({pd.NaT: None})` –ø–µ—Ä–µ–¥ insert

### 2. **–ú–µ–¥–ª–µ–Ω–Ω–æ—Å—Ç—å pandas insert** ‚úÖ –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å—Ç–∞–≤–∫–∞ 2.4M –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ psycopg2.execute_values() –∑–∞–Ω–∏–º–∞–µ—Ç —á–∞—Å—ã
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —á–∏—Å—Ç—ã–π SQL `CREATE TABLE AS SELECT` - 14.8 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ —á–∞—Å–æ–≤

### 3. **–ü—É—Å—Ç—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** ‚úÖ –î–ò–ê–ì–ù–û–°–¢–ò–†–û–í–ê–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∞–±–ª–∏—Ü—ã `complaints_by_region` –∏ `regions_complaints_pivot` —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –ø—É—Å—Ç—ã–º–∏
**–ü—Ä–∏—á–∏–Ω–∞**: –í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã NULL –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (region_id –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω)
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è '(–Ω–µ —É–∫–∞–∑–∞–Ω)' –ø—Ä–∏ NULL –∑–Ω–∞—á–µ–Ω–∏–∏

### 4. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–≤–µ—Ä–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LIKE '%–∂–∞–ª–æ–±%' –≤–º–µ—Å—Ç–æ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

---

## üìå –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```sql
-- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
SELECT * FROM summary_statistics;

-- –ñ–∞–ª–æ–±—ã
SELECT COUNT(*) as negative_count FROM negative_complaints;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
SELECT * FROM complaints_by_region;

-- –ü—Ä–∏–º–µ—Ä—ã –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
SELECT * FROM negative_complaints LIMIT 5;

-- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã
\dt
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ö–æ–º–º–∏—Ç–∏—Ç—å –≤ GitHub: **–í–´–ü–û–õ–ù–ï–ù–û** (commit c016e3a)
2. ‚è≥ –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–∏–∫–ª –∏–º–ø–æ—Ä—Ç ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –æ—Ç—á–µ—Ç—ã
3. ‚è≥ –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
4. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º

---

## üìù Git —Å—Ç–∞—Ç—É—Å:
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç**: c016e3a - Resolve merge conflict
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: `create_reports_in_sql.py`, `process_and_save_to_db.py`, `–ò–ú–ü–û–†–¢_–ò_–û–ë–†–ê–ë–û–¢–ö–ê_–í_–ë–î.bat`
- **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ GitHub**: ‚úÖ master ‚Üí origin/master
- **–í–µ—Ç–∫–∞**: master (–æ—Å–Ω–æ–≤–Ω–∞—è)

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û**

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ PostgreSQL. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
