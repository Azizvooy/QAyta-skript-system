# üóÑÔ∏è –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–•

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–∫–ª—é—á–∞–µ—Ç –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —Å–ª—É–∂–±—ã, —Ä–µ–≥–∏–æ–Ω—ã)
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –¥–ª—è —Å–≤—è–∑–µ–π
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views) –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 2. **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (NOT NULL)
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –õ–æ–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î
- ‚úÖ –õ–æ–≥ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–æ–≥ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–ø–∫–µ `logs/database/`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –¢–∞–±–ª–∏—Ü—ã

#### 1. `operators` - –û–ø–µ—Ä–∞—Ç–æ—Ä—ã
```sql
- operator_id (PRIMARY KEY)
- operator_name (UNIQUE, NOT NULL)
- phone
- email
- position
- active
- created_at, updated_at
```

#### 2. `services` - –°–ª—É–∂–±—ã
```sql
- service_id (PRIMARY KEY)
- service_code (UNIQUE, NOT NULL)
- service_name (NOT NULL)
- description
- active
- created_at
```

#### 3. `regions` - –†–µ–≥–∏–æ–Ω—ã
```sql
- region_id (PRIMARY KEY)
- region_name (UNIQUE, NOT NULL)
- region_code
- created_at
```

#### 4. `applications` - –ó–∞—è–≤–∫–∏
```sql
- application_id (PRIMARY KEY)
- application_number (UNIQUE, NOT NULL)
- card_number
- incident_number
- service_id (FOREIGN KEY ‚Üí services)
- region_id (FOREIGN KEY ‚Üí regions)
- caller_name, caller_phone
- call_date, call_time
- address, district, reason, description
- status
- created_at, updated_at
```

#### 5. `fixations` - –§–∏–∫—Å–∞—Ü–∏–∏ (–æ–±–∑–≤–æ–Ω—ã)
```sql
- fixation_id (PRIMARY KEY)
- application_id (FOREIGN KEY ‚Üí applications)
- operator_id (FOREIGN KEY ‚Üí operators)
- collection_date (NOT NULL)
- fixation_date
- phone_called
- status (NOT NULL)
- feedback_type
- notes
- created_at
```

#### 6. `operation_logs` - –õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
```sql
- log_id (PRIMARY KEY)
- operation_type
- table_name
- record_id
- old_value, new_value
- operator_id
- operation_date
- success
- error_message
```

#### 7. `daily_statistics` - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```sql
- stat_id (PRIMARY KEY)
- stat_date
- operator_id
- service_id
- total_calls, positive_count, negative_count
- positive_percent, efficiency_rate
- created_at
```

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)

#### `v_applications_full`
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∫–∞—Ö —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Å–ª—É–∂–± –∏ —Ä–µ–≥–∏–æ–Ω–æ–≤

#### `v_fixations_full`
–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–∫—Å–∞—Ü–∏—è—Ö —Å –∏–º–µ–Ω–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –¥–∞–Ω–Ω—ã–º–∏ –∑–∞—è–≤–æ–∫

#### `v_operator_stats`
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø—Ä–æ—Ü–µ–Ω—Ç—ã)

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ë–î

–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∞–π–ª:
```
–£–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–î.bat
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```bash
python scripts/database/db_manager.py
```

### –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```
1. –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É –ë–î
2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Excel
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV
4. –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –æ—Ç—á–µ—Ç—ã
5. –ü–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å—Ö–µ–º–∞ + –∏–º–ø–æ—Ä—Ç + –æ—Ç—á–µ—Ç—ã)
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
0. –í—ã—Ö–æ–¥
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
scripts/database/
‚îú‚îÄ‚îÄ db_schema.py      # –°—Ö–µ–º–∞ –ë–î
‚îú‚îÄ‚îÄ db_import.py      # –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ db_reports.py     # –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
‚îî‚îÄ‚îÄ db_manager.py     # –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

data/
‚îî‚îÄ‚îÄ fiksa_database.db # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite

logs/database/
‚îú‚îÄ‚îÄ db_log_YYYYMMDD.log      # –õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ë–î
‚îú‚îÄ‚îÄ import_log_YYYYMMDD.log  # –õ–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞
‚îî‚îÄ‚îÄ reports_log_YYYYMMDD.log # –õ–æ–≥–∏ –æ—Ç—á–µ—Ç–æ–≤

output/reports/
‚îî‚îÄ‚îÄ –û–¢–ß–ï–¢_*.xlsx # –°–æ–∑–¥–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
```

## üìà –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

–í—Å–µ –æ—Ç—á–µ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ë–î –±–µ–∑ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

### 1. –û—Ç—á–µ—Ç –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–æ–Ω–∫–æ–≤
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 2. –û—Ç—á–µ—Ç –ø–æ —Å–ª—É–∂–±–∞–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

### 3. –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
- –í—Å–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã, –∑–∞—è–≤–∫–∏, —Å–ª—É–∂–±—ã
- –ë–µ–∑ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### 4. –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª—É–∂–±–∞–º

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```bash
–ó–∞–ø—É—Å—Ç–∏—Ç—å –£–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–î.bat ‚Üí –í—ã–±—Ä–∞—Ç—å "5"
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- ‚úÖ –°—Ö–µ–º—É –ë–î —Å–æ –≤—Å–µ–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Excel
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤—Å–µ –æ—Ç—á–µ—Ç—ã

### 2. –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```bash
–ó–∞–ø—É—Å—Ç–∏—Ç—å –£–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–î.bat ‚Üí –í—ã–±—Ä–∞—Ç—å "4"
```

–°–æ–∑–¥–∞—Å—Ç —Å–≤–µ–∂–∏–µ –æ—Ç—á–µ—Ç—ã –∏–∑ –ë–î

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
–ó–∞–ø—É—Å—Ç–∏—Ç—å –£–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–î.bat ‚Üí –í—ã–±—Ä–∞—Ç—å "6"
```

–ü–æ–∫–∞–∂–µ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
- –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–∏–ø—ã –ª–æ–≥–æ–≤:

#### 1. –õ–æ–≥–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ë–î (`db_log_*.log`)
```
[2026-01-08 10:30:15] [SUCCESS] CREATE_SCHEMA: –°—Ö–µ–º–∞ –ë–î —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞
[2026-01-08 10:31:20] [SUCCESS] INSERT: –î–æ–±–∞–≤–ª–µ–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä '–ò–≤–∞–Ω–æ–≤ –ò.–ò.'
```

#### 2. –õ–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞ (`import_log_*.log`)
```
[INFO] –ù–∞—á–∞–ª–æ –∏–º–ø–æ—Ä—Ç–∞ –∑–∞—è–≤–æ–∫ –∏–∑ Excel
[INFO] –ò–º–ø–æ—Ä—Ç —Ñ–∞–π–ª–∞: –ò—Å—Ç–æ—Ä–∏—è_–∑–≤–æ–Ω–∫–æ–≤.xlsx
[INFO]   –ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 1000
[SUCCESS] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ: 950, –ü—Ä–æ–ø—É—â–µ–Ω–æ: 50
```

#### 3. –õ–æ–≥–∏ –æ—Ç—á–µ—Ç–æ–≤ (`reports_log_*.log`)
```
[INFO] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º
[SUCCESS] –û—Ç—á–µ—Ç –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω: –û–¢–ß–ï–¢_–û–ü–ï–†–ê–¢–û–†–´_20260108.xlsx
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ—Ç—á–µ—Ç–∞—Ö
**–†–µ—à–µ–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞.

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏. –ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∏.

### –ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏–∫–∞—Ç—ã
**–†–µ—à–µ–Ω–∏–µ:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.

## üìä –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
```sql
SELECT * FROM v_operator_stats 
WHERE operator_name = '–ò–≤–∞–Ω–æ–≤ –ò.–ò.';
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∑–∞ –¥–µ–Ω—å
```sql
SELECT * FROM v_fixations_full 
WHERE collection_date = '2026-01-08';
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫–∏ –ø–æ —Å–ª—É–∂–±–µ
```sql
SELECT * FROM v_applications_full 
WHERE service_code = '102';
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í—Å–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/database/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ë–î (–æ–ø—Ü–∏—è 6)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (–æ–ø—Ü–∏—è 5)

---

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞:** 08.01.2026
**–ê–≤—Ç–æ—Ä:** GitHub Copilot
